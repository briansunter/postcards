(this.webpackJsonppostcard=this.webpackJsonppostcard||[]).push([[0],{30:function(e,t,a){e.exports=a(46)},35:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(11),r=a.n(c),i=(a(35),a(4)),s=a(15),l=a(51),u=a(50),m=a(27);a(44),a(45);var d=function(){var e,t=new URLSearchParams(window.location.search),a=atob(t.get("card")||""),c=!0;try{e=JSON.parse(a),c=!1}catch(I){e={frontImage:"https://i.imgur.com/TOpuoX2.jpg",latitude:42.3528,longitude:-83.1421,message:"This is the Internet version of sending a postcard home. Use this to send and receive unique flippable postcards. Click on any of these text fields or the map to edit them. Click on the card to flip it.",to:"Someone Special",address:"San Francisco, CA",sender:"Brian Sunter"},console.log("could not parse data",I)}var r=Object(n.useState)(!0),d=Object(s.a)(r,2),p=d[0],g=d[1],f=Object(n.useState)(e),h=Object(s.a)(f,2),v=h[0],b=h[1],E="true"===localStorage.getItem("pc:seenTutorial"),O=Object(n.useState)(c&&!E),N=Object(s.a)(O,2),k=N[0],w=N[1],C=function(e){w(e),localStorage.setItem("pc:seenTutorial",e?"false":"true")},j=[v.latitude,v.longitude],y=[{selector:".App",content:"Welcome to postcards, a way of making digital postcards to send to your friends. This is the tutorial. Click the next arrow to go to the next tutorial step or click 'x' to exit.",action:function(){g(!0)}},{selector:".frontImgInput",content:"This is where you can select a nice cover image for your postcard. Make sure sure your image site supports embedding. I recommend https://imgur.com.",action:function(){g(!0)}},{selector:".front-img",content:"Tap anywhere on the card to flip.",action:function(){g(!0)}},{selector:".left-content",content:"This is the area to write your message.",action:function(){var e;g(!1),(e=1e3,new Promise((function(t){return setTimeout(t,e)}))).then((function(){C(!1),C(!0)}))}},{selector:".stamp",content:"Instead of a 'stamp', use a small map of your current location from OpenStreetMaps. You can drag to change the location. You can also update the latitude and longitude boxes below",action:function(){g(!1)}},{selector:".address",content:"Add the person you're sending the postcard to and their city here.",action:function(){g(!1)}},{selector:".shareLink",content:"This is the link to share your postcard. Send it to someone so they can view it.",action:function(){g(!1)}}],x=btoa(JSON.stringify(v));return o.a.createElement("div",{className:"App","data-testid":"home"},o.a.createElement(m.a,{closeWithMask:!1,steps:y,isOpen:k,lastStepNextButton:o.a.createElement("button",{className:"makeOwnButton"},"Done!"),onRequestClose:function(){return C(!1)}}),o.a.createElement("div",{className:"post-card"},o.a.createElement("div",{className:"flip-card"},o.a.createElement("div",{onClick:function(){return g(!p)},className:"flip-card-inner ".concat(p?"flip-card-togggle-on":"flip-card-toggle-off")},o.a.createElement("div",{className:"flip-card-front"},o.a.createElement("img",{className:"front-img",src:v.frontImage,alt:"Avatar"}),c&&o.a.createElement("input",{type:"text",className:"frontImgInput",value:v.frontImage,onChange:function(e){b(Object(i.a)(Object(i.a)({},v),{},{frontImage:e.target.value}))},onClick:function(e){e.stopPropagation()}})),o.a.createElement("div",{className:"flip-card-back"},o.a.createElement("div",{className:"left-content"},c?o.a.createElement("textarea",{className:"writing",value:v.message,onChange:function(e){b(Object(i.a)(Object(i.a)({},v),{},{message:e.target.value}))},onClick:function(e){e.stopPropagation()}}):o.a.createElement("p",{className:"writing"},v.message)),o.a.createElement("div",{className:"middleLine"}),o.a.createElement("div",{className:"right-content"},o.a.createElement("div",{className:"stamp-container",onClick:function(e){e.preventDefault(),e.stopPropagation()}},o.a.createElement(l.a,{className:"stamp",id:"mapId",center:j,zoom:9,attributionControl:!1,onMoveEnd:function(e){var t=e.target.getCenter(),a=t.lat,n=t.lng;b(Object(i.a)(Object(i.a)({},v),{},{latitude:a,longitude:n}))},zoomControl:!1},o.a.createElement(u.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:""}))),c&&o.a.createElement("label",null,"Latitude:",o.a.createElement("textarea",{value:Intl.NumberFormat(navigator.language,{minimumFractionDigits:1,maximumFractionDigits:10}).format(v.latitude),onChange:function(e){var t=parseFloat(e.target.value);t&&b(Object(i.a)(Object(i.a)({},v),{},{latitude:t}))},onClick:function(e){e.stopPropagation()}})),c&&o.a.createElement("label",null,"Longitude:",o.a.createElement("textarea",{value:Intl.NumberFormat(navigator.language,{minimumFractionDigits:1,maximumFractionDigits:10}).format(v.longitude),onChange:function(e){var t=parseFloat(e.target.value);t&&b(Object(i.a)(Object(i.a)({},v),{},{longitude:t}))},onClick:function(e){e.stopPropagation()}})),o.a.createElement("div",{className:"addressBox"},c?o.a.createElement("input",{type:"text",className:"address",value:v.to,onChange:function(e){b(Object(i.a)(Object(i.a)({},v),{},{to:e.target.value}))},onClick:function(e){e.stopPropagation()}}):o.a.createElement("p",{className:"address"},"TO: ",v.to),c?o.a.createElement("input",{type:"text",className:"address",value:v.address,onChange:function(e){b(Object(i.a)(Object(i.a)({},v),{},{address:e.target.value}))},onClick:function(e){e.stopPropagation()}}):o.a.createElement("p",{className:"address"},v.address),c?o.a.createElement("input",{type:"text",className:"address",value:v.sender,onChange:function(e){b(Object(i.a)(Object(i.a)({},v),{},{sender:e.target.value}))},onClick:function(e){e.stopPropagation()}}):o.a.createElement("p",{className:"address"},"FROM: ",v.sender),c&&o.a.createElement("div",null,o.a.createElement("textarea",{className:"shareLink",value:"".concat(window.location.href,"?card=").concat(x),onClick:function(e){e.stopPropagation()}})))))))),c?o.a.createElement("a",{className:"makeOwnButton",href:"./",onClick:function(){return C(!0)}},"Show Tutorial"):o.a.createElement("a",{className:"makeOwnButton",href:"./"},"Make your own"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.d16ee002.chunk.js.map